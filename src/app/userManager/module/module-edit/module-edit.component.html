<nz-modal [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
  (nzOnCancel)="close()">
  <ng-template #modalTitle>
    编辑模块信息
  </ng-template>
  <ng-template #modalContent>

    <form nz-form [formGroup]="validateForm">

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24">所属模块</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-tree-select style="width:100%;" [nzDefaultExpandedKeys]="expandKeys" [nzNodes]="treeNodes" nzShowSearch
            nzPlaceHolder="所属模块" [(ngModel)]="moduleDto.parentId" (ngModelChange)="onChange($event)" [ngModelOptions]="{standalone: true}">
          </nz-tree-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">名称</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input formControlName="name" placeholder="名称" name="name" [(ngModel)]="moduleDto.name">
          <nz-form-explain *ngIf="validateForm.get('name').dirty && validateForm.get('name').errors">
            必填!
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="displayName">显示名称</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input formControlName="displayName" placeholder="显示名称" name="displayName" [(ngModel)]="moduleDto.displayName">
          <nz-form-explain *ngIf="validateForm.get('displayName').dirty && validateForm.get('displayName').errors">
            必填!
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>地址</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input  placeholder="地址"  [(ngModel)]="moduleDto.url" [ngModelOptions]="{standalone: true}">
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" >图标</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <input nz-input placeholder="显示名称"  [(ngModel)]="moduleDto.icon"  [ngModelOptions]="{standalone: true}">
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" >排序</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-input-number [(ngModel)]="moduleDto.sortRank" [nzMin]="1" [nzMax]="100" [nzStep]="1" [ngModelOptions]="{standalone: true}"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" >是否默认</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-switch  [ngModel]="moduleDto.isDefault" [ngModelOptions]="{standalone: true}"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      
    </form>

  </ng-template>

  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="close()">取消</button>
    <button nz-button nzType="primary" (click)="save()" [disabled]="!validateForm.valid" [nzLoading]="saving">保存</button>
  </ng-template>
</nz-modal>